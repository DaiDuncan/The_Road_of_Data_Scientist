关于.git文件：

- 隐藏文件
- 可以通过ls .git查看内容
- 包含描述HEAD的内容
- 不能通过.git/HEAD发现brach和tag的细节



```shell
git clone [repo]
cd ...


git add .
git commit -m ""

### 连接远程(最初在本地创建)
git remote -v # 查看远程仓库
git remote add [远程主机名] [url]
### 下载更新
git pull [remoteName] [localBranchName]   #git pull [origin] [master]
# 直接pull主机的分支，覆盖本地
git fetch <远程主机名> <分支名>
git reset --hard<远程主机名>/<分支名>


### 提交推送
git push [远程主机名] [本地分支名]:[远程分支名]
git push [remoteName] [localBranchName]   #git push origin master/main (提交到远程库)
# 强制推送
git push -f master master

### git push实例：想把本地的某个分支test提交到远程仓库，并作为远程仓库的master分支，或者作为另外一个名叫test的分支
git push origin test:master         #提交本地test分支作为远程的master分支 好像只写这一句，远程的github就会自动创建一个test分支
git push origin test:test              # 提交本地test分支作为远程的test分支
```





# 显示日志logs

```shell
git status
git diff

git log
git log --graph
git log --graph --all #显示所有分支的所有commits
git log --graph --all --oneline  #分支太多，只显示一行

git show HEAD
```







# 分支

## 查看、创建分支

```shell
git branch #显示 * master
git branch [branch_name]

### 常见示例
git brach develop
```





## 切换分支

```shell
git checkout [branch_name] #针对已存在的branch
git checkout [hash code] #针对commit, 比如 f871379
git checkout HEAD
git checkout master  #最新的节点
git checkout -b [name]   #创建新分支并立即切换到新分支
```



## 合并分支

当出现冲突时 => 需要解决冲突

```shell
git merge branch_name(把自己分支上改动的代码，合并到当前分支上)


### 常见示例
git checkout XXX
git merge master  #将XXX分支合并到主分支master上


### 常见冲突情况
# 在不同的分支上修改同一个文件 => 无法合并
```



### 解决冲突

1. 决定保留哪个版本
2. 删除另一个版本的内容
3. commit提交修改

```shell
# 显示冲突内容
cat XXX #XXX是冲突文件
```



### merge工具

- SemanticMerge





# 添加标签

```shell
git tag [标签名]  #用标签名，比如v1.2代替[SHA]
```





# 多人协作 github

origin：表示remote repo的简写(default short name)

```shell
git clone [github repo] 

git remote  #克隆到本地后，git remote显示origin
git remote show origin #显示远程的URL, repo, HEAD分支和远程分支master


### 远程库发生改变
git fetch origin master  #远程库的master => 本地的origin/master 
git merge origin/master master #merge更新的origin/master到本地master

# 直接更新
git pull origin master #注意：本地在git pull之前不应该还有未commit的改变


### 本地库发生改变
git push origin master
```







# #常见场景

```shell
### 表示当前的HEAD不在最新节点，比如之前使用了git checkoutf871379
HEAD detached at f871379 #detached意思是分离
Untracked files:

	cake.txt
```

