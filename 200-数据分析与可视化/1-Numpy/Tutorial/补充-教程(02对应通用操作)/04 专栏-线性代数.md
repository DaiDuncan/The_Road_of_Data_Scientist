# åº“|çº¿æ€§ä»£æ•° linalg

NumPyçº¿æ€§ä»£æ•°å‡½æ•°ä¾èµ–äºBLASå’ŒLAPACKæ¥æä¾›**æ ‡å‡†çº¿æ€§ä»£æ•°ç®—æ³•çš„é«˜æ•ˆä½çº§å®ç°**ã€‚ è¿™äº›åº“å¯ä»¥ç”±NumPyæœ¬èº«ä½¿ç”¨å…¶å‚è€ƒå®ç°å­é›†çš„Cç‰ˆæœ¬æä¾›ï¼Œ ä½†å¦‚æœå¯èƒ½ï¼Œæœ€å¥½æ˜¯åˆ©ç”¨ä¸“ç”¨å¤„ç†å™¨åŠŸèƒ½çš„é«˜åº¦ä¼˜åŒ–çš„åº“ã€‚

è¿™æ ·çš„åº“çš„ä¾‹å­æ˜¯[OpenBLAS](https://www.openblas.net/)ã€MKL(TM)å’ŒATLASã€‚

- å› ä¸ºè¿™äº›åº“æ˜¯å¤šçº¿ç¨‹å’Œå¤„ç†å™¨ç›¸å…³çš„ï¼Œ æ‰€ä»¥å¯èƒ½éœ€è¦ç¯å¢ƒå˜é‡å’Œå¤–éƒ¨åŒ…ï¼ˆå¦‚[threadpoolctl](https://github.com/joblib/threadpoolctl)ï¼‰æ¥æ§åˆ¶**çº¿ç¨‹æ•°é‡**æˆ–**æŒ‡å®šå¤„ç†å™¨ä½“ç³»ç»“æ„**ã€‚



## çŸ©é˜µå’Œå‘é‡ç§¯

| æ–¹æ³•                                                         | æè¿°                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [dot](https://numpy.org/devdocs/reference/generated/numpy.dot.html#numpy.dot)(a, b[, out])â­ | ä¸¤ä¸ªæ•°ç»„çš„ç‚¹ç§¯ã€‚                                             |
| [linalg.multi_dot](https://numpy.org/devdocs/reference/generated/numpy.linalg.multi_dot.html#numpy.linalg.multi_dot)(arrays) | åœ¨å•ä¸ªå‡½æ•°è°ƒç”¨ä¸­è®¡ç®—ä¸¤ä¸ªæˆ–æ›´å¤šæ•°ç»„çš„ç‚¹ç§¯ï¼ŒåŒæ—¶è‡ªåŠ¨é€‰æ‹©æœ€å¿«çš„æ±‚å€¼é¡ºåºã€‚ |
| [vdot](https://numpy.org/devdocs/reference/generated/numpy.vdot.html#numpy.vdot)(a, b) | è¿”å›ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯ã€‚                                         |
| [inner](https://numpy.org/devdocs/reference/generated/numpy.inner.html#numpy.inner)(a, b) | ä¸¤ä¸ªæ•°ç»„çš„å†…ç§¯ã€‚                                             |
| [outer](https://numpy.org/devdocs/reference/generated/numpy.outer.html#numpy.outer)(a, b[, out])â­@==ç¥ç»ç½‘ç»œçš„æƒé‡æ¢¯åº¦== | è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å¤–ç§¯ã€‚                                         |
| [matmul](https://numpy.org/devdocs/reference/generated/numpy.matmul.html#numpy.matmul)(x1, x2, /[, out, casting, order, â€¦])â­ | ä¸¤ä¸ªæ•°ç»„çš„çŸ©é˜µä¹˜ç§¯ã€‚                                         |
| [tensordot](https://numpy.org/devdocs/reference/generated/numpy.tensordot.html#numpy.tensordot)(a, b[, axes]) | ==æ²¿æŒ‡å®šè½´è®¡ç®—å¼ é‡ç‚¹ç§¯==ã€‚                                   |
| [einsum](https://numpy.org/devdocs/reference/generated/numpy.einsum.html#numpy.einsum)(subscripts, *operands[, out, dtype, â€¦])â­â­ | è®¡ç®—æ“ä½œæ•°ä¸Šçš„==çˆ±å› æ–¯å¦æ±‚å’Œçº¦å®š==ã€‚                         |
| [einsum_path](https://numpy.org/devdocs/reference/generated/numpy.einsum_path.html#numpy.einsum_path)(subscripts, *operands[, optimize]) | é€šè¿‡è€ƒè™‘ä¸­é—´æ•°ç»„çš„åˆ›å»ºï¼Œè®¡ç®—einsumè¡¨è¾¾å¼çš„æœ€ä½æˆæœ¬å‹ç¼©é¡ºåºã€‚ |
| [linalg.matrix_power](https://numpy.org/devdocs/reference/generated/numpy.linalg.matrix_power.html#numpy.linalg.matrix_power)(a, n) | å°†æ–¹é˜µæå‡ä¸º(æ•´æ•°)næ¬¡æ–¹ã€‚                                    |
| [kron](https://numpy.org/devdocs/reference/generated/numpy.kron.html#numpy.kron)(a, b) | ä¸¤ä¸ªæ•°ç»„çš„==Kroneckerä¹˜ç§¯==ã€‚                                |



## åˆ†è§£â­

| æ–¹æ³•                                                         | æè¿°               |
| ------------------------------------------------------------ | ------------------ |
| [linalg.cholesky](https://numpy.org/devdocs/reference/generated/numpy.linalg.cholesky.html#numpy.linalg.cholesky)(a) | Choleskyåˆ†è§£       |
| [linalg.qr](https://numpy.org/devdocs/reference/generated/numpy.linalg.qr.html#numpy.linalg.qr)(a[, mode]) | è®¡ç®—çŸ©é˜µçš„QRåˆ†è§£ã€‚ |
| [linalg.svd](https://numpy.org/devdocs/reference/generated/numpy.linalg.svd.html#numpy.linalg.svd)(a[, full_matrices, compute_uv, â€¦]) | å¥‡å¼‚å€¼åˆ†è§£         |



## çŸ©é˜µç‰¹å¾å€¼

| æ–¹æ³•                                                         | æè¿°                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [linalg.eig](https://numpy.org/devdocs/reference/generated/numpy.linalg.eig.html#numpy.linalg.eig)(a) | è®¡ç®—æ–¹é˜µçš„ç‰¹å¾å€¼å’Œå³ç‰¹å¾å‘é‡ã€‚                               |
| [linalg.eigh](https://numpy.org/devdocs/reference/generated/numpy.linalg.eigh.html#numpy.linalg.eigh)(a[, UPLO]) | è¿”å›å¤æ•°Hermitianï¼ˆå…±è½­å¯¹ç§°ï¼‰æˆ–å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ã€‚ |
| [linalg.eigvals](https://numpy.org/devdocs/reference/generated/numpy.linalg.eigvals.html#numpy.linalg.eigvals)(a) | è®¡ç®—é€šç”¨çŸ©é˜µçš„ç‰¹å¾å€¼ã€‚                                       |
| [linalg.eigvalsh](https://numpy.org/devdocs/reference/generated/numpy.linalg.eigvalsh.html#numpy.linalg.eigvalsh)(a[, UPLO]) | è®¡ç®—å¤æ‚çš„Hermitianæˆ–å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼ã€‚                    |



## èŒƒæ•°å’Œå…¶ä»–æ•°å­—

| æ–¹æ³•                                                         | æè¿°                                 |
| ------------------------------------------------------------ | ------------------------------------ |
| [linalg.norm](https://numpy.org/devdocs/reference/generated/numpy.linalg.norm.html#numpy.linalg.norm)(x[, ord, axis, keepdims]) | çŸ©é˜µæˆ–å‘é‡èŒƒæ•°ã€‚                     |
| [linalg.cond](https://numpy.org/devdocs/reference/generated/numpy.linalg.cond.html#numpy.linalg.cond)(x[, p]) | ==è®¡ç®—çŸ©é˜µçš„æ¡ä»¶æ•°==ã€‚               |
| [linalg.det](https://numpy.org/devdocs/reference/generated/numpy.linalg.det.html#numpy.linalg.det)(a) | è®¡ç®—æ•°ç»„çš„è¡Œåˆ—å¼ã€‚                   |
| [linalg.matrix_rank](https://numpy.org/devdocs/reference/generated/numpy.linalg.matrix_rank.html#numpy.linalg.matrix_rank)(M[, tol, hermitian]) | ä½¿ç”¨SVDæ–¹æ³•è¿”å›æ•°ç»„çš„çŸ©é˜µçš„rank      |
| [linalg.slogdet](https://numpy.org/devdocs/reference/generated/numpy.linalg.slogdet.html#numpy.linalg.slogdet)(a) | è®¡ç®—æ•°ç»„è¡Œåˆ—å¼çš„ç¬¦å·å’Œï¼ˆè‡ªç„¶ï¼‰å¯¹æ•°ã€‚ |
| [trace](https://numpy.org/devdocs/reference/generated/numpy.trace.html#numpy.trace)(a[, offset, axis1, axis2, dtype, out]) | è¿”å›æ•°ç»„å¯¹è§’çº¿çš„å’Œã€‚                 |



## è§£æ–¹ç¨‹å’Œé€†çŸ©é˜µ

| æ–¹æ³•                                                         | æè¿°                                     |
| ------------------------------------------------------------ | ---------------------------------------- |
| [linalg.solve](https://numpy.org/devdocs/reference/generated/numpy.linalg.solve.html#numpy.linalg.solve)(a, b) | æ±‚è§£çº¿æ€§çŸ©é˜µæ–¹ç¨‹æˆ–çº¿æ€§æ ‡é‡æ–¹ç¨‹ç»„ã€‚       |
| [linalg.tensorsolve](https://numpy.org/devdocs/reference/generated/numpy.linalg.tensorsolve.html#numpy.linalg.tensorsolve)(a, b[, axes]) | å¯¹xæ±‚è§£==å¼ é‡æ–¹ç¨‹a x = b==ã€‚             |
| [linalg.lstsq](https://numpy.org/devdocs/reference/generated/numpy.linalg.lstsq.html#numpy.linalg.lstsq)(a, b[, rcond]) | è¿”å›çº¿æ€§çŸ©é˜µæ–¹ç¨‹çš„**æœ€å°äºŒä¹˜è§£**ã€‚       |
| [linalg.inv](https://numpy.org/devdocs/reference/generated/numpy.linalg.inv.html#numpy.linalg.inv)(a) | è®¡ç®—çŸ©é˜µçš„ï¼ˆä¹˜æ³•ï¼‰é€†ã€‚                   |
| [linalg.pinv](https://numpy.org/devdocs/reference/generated/numpy.linalg.pinv.html#numpy.linalg.pinv)(a[, rcond, hermitian]) | è®¡ç®—çŸ©é˜µçš„ï¼ˆMoore-Penroseï¼‰**ä¼ªé€†**ã€‚    |
| [linalg.tensorinv](https://numpy.org/devdocs/reference/generated/numpy.linalg.tensorinv.html#numpy.linalg.tensorinv)(a[, ind]) | è®¡ç®—Nç»´æ•°ç»„çš„â€œé€†â€ã€‚                      |
| `x = np.linalg.pinv(A).dot(b)`                               | åŸºäºå¹¿ä¹‰é€†ï¼šè®¡ç®—**éæ–¹é˜µçº¿æ€§æ–¹ç¨‹ç»„çš„è§£** |



## å¼‚å¸¸

| æ–¹æ³•                                                         | æè¿°                                      |
| ------------------------------------------------------------ | ----------------------------------------- |
| [linalg.LinAlgError](https://numpy.org/devdocs/reference/generated/numpy.linalg.LinAlgError.html#numpy.linalg.LinAlgError) | æ³›å‹Python-linalgå‡½æ•°å¼•å‘çš„å¼‚å¸¸æ´¾ç”Ÿå¯¹è±¡ã€‚ |



## np.dot() é€šç”¨ğŸ’¡

- ç­‰ä»·äºa.dot(b)

- N-Dæ•°ç»„ï¼Œæœ‰Nå±‚ä¸­æ‹¬å·[]

| a                | b                | np.dot(a, b)                                                 |
| ---------------- | ---------------- | ------------------------------------------------------------ |
| 1D               | 1D               | å†…ç§¯<br>`np.dot((2, ), (2, )) == (1, )`<br/>`np.dot((1, n), (n, )) == (1, )` ç”Ÿæˆä¸€ç»´æ•°ç»„ |
|                  |                  | ç‰¹æ®Šï¼šä¸€ç»´æ•°ç»„ åˆ—*è¡Œå¾—åˆ°çŸ©é˜µ<br/>@æƒé‡çš„æ›´æ–°ï¼Œç”¨`.reshape()` |
| 2D               | 2D               | çŸ©é˜µä¹˜æ³•<br>ä½†**å€¾å‘**ä½¿ç”¨np.matmul(a, b)æˆ–è€…a @ b           |
|                  |                  | `(1, n) & (n, 1) == (1, 1)` ç”Ÿæˆåˆ—å‘é‡(äºŒç»´æ•°ç»„)             |
|                  |                  | ç‰¹æ®Šï¼š`np.dot((2, ), (2, 1)) == (1, )` é»˜è®¤è¡Œå‘é‡<br>aæ˜¯1Dï¼Œæ˜¯è¡Œå‘é‡(è®¡ç®—æ—¶çœ‹ä½œ2D => (1, 2)) |
| å…¶ä¸­ä¹‹ä¸€æ˜¯æ ‡é‡0D | å…¶ä¸­ä¹‹ä¸€æ˜¯æ ‡é‡0D | å…ƒç´ ä¹˜æ³•<br>np.multiply(a, b)æˆ–a * b                         |
| N-D              | ==1D==â­          | aå’Œbçš„æœ€åaxisï¼Œæ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ä¹‹å’Œ<br>                       |
|                  |                  | ä¾‹å­\|np.dot((n, ), (n, 3))  ç»“æœæ˜¯(3, )  æ³¨æ„ï¼š(n, 3) & (n, )ä¼š**æŠ¥é”™**<br/>@KSä½œä¸š3-HMMï¼š(46,) (46,46) |
|                  |                  | ä¾‹å­\|np.dot((3,3,3), (3,))  ç»“æœæ˜¯(3,3ï¼‰<br/>ä¾‹å­\|(3,3,3) * (3,)  ç»“æœæ˜¯(3,3,3ï¼‰ |
|                  |                  |                                                              |
| N-D              | M-D(M>2)         | açš„æœ€åä¸€ç»´çš„æ‰€æœ‰å…ƒç´ ï¼Œbçš„å€’æ•°ç¬¬äºŒç»´çš„å…ƒç´ ä¹˜ç§¯ä¹‹å’Œ<br>dot(a, b)[i,j,k,m] = sum(a[i,j,:] * b[k,:,m]) |

```python
numpy.dot(a, b, out=None) 
'''
a : ndarray æ•°ç»„
b : ndarray æ•°ç»„
out : ndarray, å¯é€‰ï¼Œç”¨æ¥ä¿å­˜dot()çš„è®¡ç®—ç»“æœ
'''

>>> np.dot(3, 4)
12

>>> np.dot([2j, 3j], [2j, 3j])
(-13+0j)

### 2D
>>> a = [[1, 0], [0, 1]]
>>> b = [[4, 1], [2, 2]]
>>> np.dot(a, b)
array([[4, 1],
       [2, 2]])


>>> a = np.arange(3*4*5*6).reshape((3,4,5,6))
>>> b = np.arange(3*4*5*6)[::-1].reshape((5,4,6,3))
>>> np.dot(a, b)[2,3,2,1,2,2]
499128
>>> sum(a[2,3,2,:] * b[1,2,:,2])
499128
```



| ç»´åº¦              | å®ä¾‹       |
| ----------------- | ---------- |
| (2, 1) => 2-Dæ•°ç»„ | [[1], [2]] |
| (2, ) => 1-Dæ•°ç»„  | [3, 4]     |
| (1, 2)            | [[3, 4]]   |

æ³¨æ„ï¼š`np.dot((2, 1), (2, ))`æŠ¥é”™(è™½ç„¶ç¬¬äºŒä¸ªé»˜è®¤è¡Œå‘é‡ï¼Œä½†ç»ˆç©¶ä¸æ˜¯1*2çš„è¡Œå‘é‡)

æ­£ç¡®çš„è¿ç®—åº”è¯¥æ˜¯ï¼š`np.dot((2, 1), (1, 2))`

1. å…ˆå»æ‰å¤–å±‚çš„[]ï¼š[1], [2] ä¸ [3, 4]
2. é’ˆå¯¹å†…å±‚çš„[]ï¼š1å’Œ3, 4ç”Ÿæˆ[3, 4]
3. æœ€åç”Ÿæˆ`ç»´åº¦(2, 2)`çš„çŸ©é˜µ



## np.vdot() ç‚¹ç§¯

æ˜¯ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯ã€‚ 

å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤æ•°ï¼Œé‚£ä¹ˆå®ƒçš„å…±è½­å¤æ•°ä¼šç”¨äºè®¡ç®—ã€‚ 

å¦‚æœå‚æ•°æ˜¯å¤šç»´æ•°ç»„ï¼Œå®ƒä¼šè¢«å±•å¼€ã€‚

```python
import numpy as np 
 
a = np.array([[1,2],[3,4]]) 
b = np.array([[11,12],[13,14]]) 
 
# vdot å°†æ•°ç»„å±•å¼€è®¡ç®—å†…ç§¯
print (np.vdot(a,b))	#1*11 + 2*12 + 3*13 + 4*14 = 130
```



## np.inner() å†…ç§¯

è¿”å›ä¸€ç»´æ•°ç»„çš„å‘é‡å†…ç§¯ã€‚

å¯¹äºæ›´é«˜çš„ç»´åº¦ï¼Œå®ƒè¿”å›æœ€åä¸€ä¸ªè½´ä¸Šçš„å’Œçš„ä¹˜ç§¯ã€‚

```python
import numpy as np 
 
print (np.inner(np.array([1,2,3]),np.array([0,1,0])))
# ç­‰ä»·äº 1*0+2*1+3*0 = 2



#==#å¤šç»´æ•°ç»„
import numpy as np 
a = np.array([[1,2], [3,4]]) 
 
print ('æ•°ç»„ aï¼š')
print (a)
b = np.array([[11, 12], [13, 14]]) 
 
print ('æ•°ç»„ bï¼š')
print (b)
 
print ('å†…ç§¯ï¼š')
print (np.inner(a,b))
'''
æ•°ç»„ aï¼š
[[1 2]
 [3 4]]
æ•°ç»„ bï¼š
[[11 12]
 [13 14]]
å†…ç§¯ï¼š
[[35 41]
 [81 95]]
'''
```



## np.matmul() çŸ©é˜µä¹˜ç§¯â­

è¿”å›ä¸¤ä¸ªæ•°ç»„çš„çŸ©é˜µä¹˜ç§¯ã€‚ 

è™½ç„¶å®ƒè¿”å›äºŒç»´æ•°ç»„çš„æ­£å¸¸ä¹˜ç§¯ï¼Œ

- ä½†å¦‚æœ**ä»»ä¸€å‚æ•°çš„ç»´æ•°å¤§äº2**ï¼Œåˆ™å°†å…¶è§†ä¸ºå­˜åœ¨äº==æœ€åä¸¤ä¸ªç´¢å¼•çš„çŸ©é˜µçš„æ ˆ==ï¼Œå¹¶è¿›è¡Œç›¸åº”å¹¿æ’­ã€‚

- å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä»»ä¸€å‚æ•°æ˜¯ä¸€ç»´æ•°ç»„ï¼Œåˆ™é€šè¿‡åœ¨å…¶ç»´åº¦ä¸Š**é™„åŠ  ä¸€ç»´ æ¥å°†å…¶æå‡ä¸ºçŸ©é˜µ**ï¼Œå¹¶åœ¨ä¹˜æ³•ä¹‹åè¢«å»é™¤ã€‚



å¯¹äºäºŒç»´æ•°ç»„ï¼Œå®ƒå°±æ˜¯çŸ©é˜µä¹˜æ³•ï¼š

```python
import numpy.matlib 
import numpy as np 
 
a = [[1,0],[0,1]] 
b = [[4,1],[2,2]] 
print (np.matmul(a,b))
'''
[[4  1] 
 [2  2]]
'''
```



äºŒç»´å’Œä¸€ç»´è¿ç®—ï¼š

```python
import numpy.matlib 
import numpy as np 
 
a = [[1,0],[0,1]] 
b = [1,2] 
print (np.matmul(a,b))	#[1  2] 
print (np.matmul(b,a))	#[1  2]
```



ç»´åº¦å¤§äºäºŒçš„æ•°ç»„ ï¼š

```python
import numpy.matlib 
import numpy as np 
 
a = np.arange(8).reshape(2,2,2) 
b = np.arange(4).reshape(2,2) 
print (np.matmul(a,b))
'''
[[[ 2  3]
  [ 6 11]]

 [[10 19]
  [14 27]]]
'''
```



## np.linalg.det() çŸ©é˜µè¡Œåˆ—å¼

è®¡ç®—è¾“å…¥çŸ©é˜µçš„è¡Œåˆ—å¼ã€‚

è¡Œåˆ—å¼åœ¨çº¿æ€§ä»£æ•°ä¸­æ˜¯éå¸¸æœ‰ç”¨çš„å€¼ã€‚ 

æ¢å¥è¯è¯´ï¼Œå¯¹äºçŸ©é˜µ[[aï¼Œb]ï¼Œ[cï¼Œd]]ï¼Œè¡Œåˆ—å¼è®¡ç®—ä¸º ad-bcã€‚ è¾ƒå¤§çš„æ–¹é˜µè¢«è®¤ä¸ºæ˜¯ 2Ã—2 çŸ©é˜µçš„ç»„åˆã€‚

```python
import numpy as np
a = np.array([[1,2], [3,4]]) 
 
print (np.linalg.det(a))	#-2.0
```



## np.linalg.solve() çº¿æ€§æ–¹ç¨‹çš„è§£

ç»™å‡ºäº†çŸ©é˜µå½¢å¼çš„çº¿æ€§æ–¹ç¨‹çš„è§£

```python
x + y + z = 6
2y + 5z = -4
2x + 5y - z = 27
```

![image-20210514151249467](https://raw.githubusercontent.com/DaiDuncan/PicUploader/main/img2/20210514151249.png)



## np.linalg.inv() çŸ©é˜µçš„é€†

numpy.linalg.inv() å‡½æ•°è®¡ç®—çŸ©é˜µçš„ä¹˜æ³•é€†çŸ©é˜µã€‚

**é€†çŸ©é˜µï¼ˆinverse matrixï¼‰**ï¼šè®¾Aæ˜¯æ•°åŸŸä¸Šçš„ä¸€ä¸ªné˜¶çŸ©é˜µï¼Œè‹¥åœ¨ç›¸åŒæ•°åŸŸä¸Šå­˜åœ¨å¦ä¸€ä¸ªné˜¶çŸ©é˜µBï¼Œä½¿å¾—ï¼š AB=BA=E ï¼Œåˆ™æˆ‘ä»¬ç§°Bæ˜¯Açš„é€†çŸ©é˜µï¼Œè€ŒAåˆ™è¢«ç§°ä¸ºå¯é€†çŸ©é˜µã€‚æ³¨ï¼šEä¸ºå•ä½çŸ©é˜µã€‚

```python
import numpy as np 
 
a = np.array([[1,1,1],[0,2,5],[2,5,-1]]) 
 
print ('æ•°ç»„ aï¼š')
print (a)
ainv = np.linalg.inv(a) 
 
print ('a çš„é€†ï¼š')
print (ainv)
 
print ('çŸ©é˜µ bï¼š')
b = np.array([[6],[-4],[27]]) 
print (b)
 
print ('è®¡ç®—ï¼šA^(-1)Bï¼š')
x = np.linalg.solve(a,b) 
print (x)
# è¿™å°±æ˜¯çº¿æ€§æ–¹å‘ x = 5, y = 3, z = -2 çš„è§£

'''
æ•°ç»„ aï¼š
[[ 1  1  1]
 [ 0  2  5]
 [ 2  5 -1]]
a çš„é€†ï¼š
[[ 1.28571429 -0.28571429 -0.14285714]
 [-0.47619048  0.14285714  0.23809524]
 [ 0.19047619  0.14285714 -0.0952381 ]]
çŸ©é˜µ bï¼š
[[ 6]
 [-4]
 [27]]
è®¡ç®—ï¼šA^(-1)Bï¼š
[[ 5.]
 [ 3.]
 [-2.]]
'''
```





## 1 å…ƒç´ 

```python
np.add(x,y)
np.subtract(x,y)
np.multiply(x,y)
np.divide(x,y)

np.abs()
np.square()
np.maximum()
np.exp(x)
np.sin()
np.sqrt(x)
np.power(x,2)

np.greater(x, y) #æ¯”è¾ƒè¿”å›å¸ƒå°”å€¼

### æ³¨æ„ï¼šlogå‡½æ•°
np.log(x, y) #ä»¥xä¸ºåº•
np.log()  #ä»¥eä¸ºåº•
np.log10()  #ä»¥10ä¸ºåº•
```



## 2 çŸ©é˜µâ­

é»˜è®¤è¡Œå‘é‡ï¼Œå¯ç”¨`.flatten()`æˆ–`.ravel()`==è½¬åŒ–ä¸ºä¸€ç»´æ•°ç»„(é»˜è®¤è¡Œå‘é‡)==

| Hadamard å…ƒç´ ä¹˜ç§¯(@matlab `.*`)                              | `np.multiply()`<br>                      |
| ------------------------------------------------------------ | ---------------------------------------- |
| `*`                                                          | ä¸€ç»´æ•°ç»„å¯¹åº”å…ƒç´ ç›¸ä¹˜ `(2, )*(2, )=(2, )` |
| (ç‰¹æ®Šæƒ…å†µ\|å¹¿æ’­ï¼š==å°¾éƒ¨ç»´åº¦==ä¸€è‡´)<br>å°¾éƒ¨å¯¹é½ï¼šè¦ä¹ˆç›¸ç­‰ï¼Œè¦ä¹ˆä¸º1 | `(6, ) * (6, 1) == (6, 6)` (å°¾éƒ¨ç»´åº¦æœ‰1) |
|                                                              | `(6, 1) * (6, ) == (6, 6)` (å°¾éƒ¨ç»´åº¦æœ‰1) |



### Noneä¸np.newaxis

[Link: numpyä¸­ data[:, None]çš„å«ä¹‰ï¼Ÿ](https://stackoverflow.com/questions/37867354/in-numpy-what-does-selection-by-none-do)

æœ¬æ„ï¼šNoneæ˜¯np.newaxisçš„åˆ«åï¼Œæ„ä¸ºæ–°åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º1çš„ç»´åº¦/è½´axisã€‚

- æ¯”å¦‚(4, ) ==> (4, 1)

![image-20201205145528461](https://cdn.jsdelivr.net/gh/DaiDuncan/PicUploader/img/20201205145528.png)

![image-20201205145700062](https://cdn.jsdelivr.net/gh/DaiDuncan/PicUploader/img/20201205145700.png)



`np.arrange(8) ==> array([0, 1, 2, 3, 4, 5, 6, 7])`

1. å½“dataæ˜¯`ä¸€ç»´æ•°ç»„(n,)`ï¼Œå˜ä¸º(n, 1)ï¼Œç›¸å½“äºè¡Œå‘é‡è½¬ç½®ä¸ºåˆ—å‘é‡(å¦‚ä¸Šå›¾æ‰¾é‚£ä¸ªçš„labels)

2. å½“dataæ˜¯`çŸ©é˜µ(1, n)`æ—¶ï¼Œ`data[:, None]`ç”Ÿæˆ(1,1,n)

   ![image-20201205150143857](https://cdn.jsdelivr.net/gh/DaiDuncan/PicUploader/img/20201205150143.png)





### å®ä¾‹|ç¥ç»ç½‘ç»œ åå‘ä¼ æ’­

1. åˆ©ç”¨è½¬ç½®ï¼šè°ƒæ¢ä½ç½®è®¡ç®—åå‘è¯¯å·®

![image](https://cdn.nlark.com/yuque/0/2020/png/1136179/1591174347061-7641d01e-8746-41b9-8600-a9a679d6516a.png)

2. æƒé‡æ›´æ–°ï¼š==åˆ—*è¡Œ==ç”Ÿæˆæƒé‡çŸ©é˜µ

   ```python
   ### å½“x, yå‡ä¸ºä¸€ç»´æ•°ç»„æ—¶ï¼Œä¸‹åˆ—ä¸¤ç§æ–¹æ³•ç­‰ä»·
   x[:, None] * y
   y * x[:, None]
   ```

   ![image](https://cdn.nlark.com/yuque/0/2020/png/1136179/1591174347026-ae1c9009-7665-4f2a-b9e7-849cd4a6e732.png)



## å¸¸è§è¿ç®—

- è½¬ç½®

```python
ndarray.T
ndarray.transpose()

### .swapaxes()æ¥å—ä¸€å¯¹è½´å˜æ¢
.reshape()
```



- è¡Œåˆ—å¼

```python
### numpy.linalg


numpy.linalg.inv()			#é€†çŸ©é˜µ
numpy.linalg.transpose()	#è½¬ç½®
numpy.linalg.det()			#è¡Œåˆ—å¼
numpy.linalg.eig()			#ç‰¹å¾å€¼

numpy.linalg.solve(<A>, <y>)	#æ±‚è§£çº¿æ€§æ–¹ç¨‹ï¼šAx=y(æ³¨æ„xçš„ä½ç½®)
```



- ç‰¹å¾å€¼ï¼š

```python
>>> w, v = eig(np.diag((1, 2, 3)))
>>> w; v	#ç‰¹å¾å‘é‡æ˜¯åˆ—å‘é‡ï¼šæ¯”å¦‚ç‰¹å¾å€¼ä¸º1å¯¹åº”çš„ç‰¹å¾å‘é‡æ˜¯(1, 0, 0)åˆ—å‘é‡ => å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜ï¼šè¿”å›å€¼
array([1., 2., 3.])
array([[1., 0., 0.],
       [0., 1., 0.],
       [0., 0., 1.]])
```





# åº“|çŸ©é˜µ np.matlib

è¯¥æ¨¡å—ä¸­çš„å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œè€Œä¸æ˜¯ ndarray å¯¹è±¡

- çŸ©é˜µæ€»æ˜¯äºŒç»´çš„ï¼Œè€Œ ndarray æ˜¯ä¸€ä¸ª n ç»´æ•°ç»„ã€‚ 
- ä¸¤ä¸ªå¯¹è±¡éƒ½æ˜¯å¯äº’æ¢çš„

| å‡½æ•°                                      | è¯´æ˜                         |
| ----------------------------------------- | ---------------------------- |
| è½¬ç½®                                      | np.transpose                 |
|                                           | .Tå±æ€§                       |
| numpy.matlib.empty(shape, dtype, order)   | éšæœºæ•°æ®                     |
| np.matlib.zeros((2,2))                    | ä»¥ 0 å¡«å……çš„çŸ©é˜µ              |
| np.matlib.ones((2,2))                     |                              |
| np.matlib.eye(n=3, M=4, k=0, dtype=float) | å¯¹è§’çº¿å…ƒç´ ä¸º 1ï¼Œå…¶ä»–ä½ç½®ä¸ºé›¶ |
| np.matlib.identity(5, dtype=float)        | ç»™å®šå¤§å°çš„å•ä½çŸ©é˜µ           |
| np.matlib.rand(3,3)                       | æ•°æ®æ˜¯éšæœºå¡«å……               |



```python
import numpy.matlib 
import numpy as np  
 
#==# çŸ©é˜µè½¬åŒ–ä¸ºæ•°ç»„
i = np.matrix('1,2;3,4')  	#ä¸æ¨èä½¿ç”¨ => ç›´æ¥ç”¨mat(data[, dtype])
print (i)
'''
[[1  2] 
 [3  4]]
'''

#==# æ•°ç»„è½¬åŒ–ä¸ºçŸ©é˜µ
k = np.asmatrix (j)  
print (k)
'''
[[1  2] 
 [3  4]]
'''
```



# ä¸»é¢˜ np.einsum()

0 [åº”ç”¨overview|youtubeè§†é¢‘ä»‹ç»](https://www.youtube.com/watch?v=ULY6pncbRY8)

0 [æ¦‚å¿µoverview|çˆ±å› æ–¯å¦æ±‚å’Œçº¦å®š](https://www.bilibili.com/video/av59156130/) @`è¡¥å……-æ•™ç¨‹ 01 å¼ é‡-çˆ±å› æ–¯å¦æ±‚å’Œçº¦å®š`



