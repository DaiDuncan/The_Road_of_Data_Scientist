程序运行的时候，数据都是在内存中的。

当程序终止的时候，通常都需要将数据保存到磁盘上，无论是保存到本地磁盘，还是通过网络保存到服务器上，最终都会将数据写入磁盘文件。



如何定义数据的存储格式就是一个大问题。

如果我们自己来定义存储格式，比如保存一个班级所有学生的成绩单：

| 名字    | 成绩 |
| :------ | :--- |
| Michael | 99   |
| Bob     | 85   |
| Bart    | 59   |
| Lisa    | 87   |

可以用一个文本文件保存，一行保存一个学生，用`,`隔开：

```python
Michael,99
Bob,85
Bart,59
Lisa,87
```

还可以用JSON格式保存，也是文本文件：

```python
[
    {"name":"Michael","score":99},
    {"name":"Bob","score":85},
    {"name":"Bart","score":59},
    {"name":"Lisa","score":87}
]
```





还可以定义各种保存格式，但是问题来了：

存储和读取需要自己实现，JSON还是标准，自己定义的格式就各式各样了；

- 不能做快速查询，只有把数据全部读到内存中才能自己遍历，但有时候数据的大小远远超过了内存（比如蓝光电影，40GB的数据），根本无法全部读入内存。

为了便于程序保存和读取数据，而且，能直接通过条件快速查询到指定的数据，就出现了数据库（Database）这种专门用于==集中存储和查询的软件==。



## 数据库发展

数据库软件诞生的历史非常久远，早在1950年数据库就诞生了。

经历了网状数据库，层次数据库，我们==现在广泛使用的关系数据库==是20世纪70年代基于关系模型的基础上诞生的。





==关系模型有一套复杂的数学理论==，但是从概念上是十分容易理解的。

举个学校的例子，假设某个XX省YY市ZZ县第一实验小学有3个年级，要表示出这3个年级，可以在Excel中用一个表格画出来：

![image-20210131154907097](https://cdn.jsdelivr.net/gh/DaiDuncan/PicUploader/img/20210131154907.png)

每个年级又有若干个班级，要把所有班级表示出来，可以在Excel中再画一个表格：

![image-20210131154911624](https://cdn.jsdelivr.net/gh/DaiDuncan/PicUploader/img/20210131154911.png)

这两个表格有个映射关系，就是根据Grade_ID可以在班级表中查找到对应的所有班级：

![image-20210131154946648](https://cdn.jsdelivr.net/gh/DaiDuncan/PicUploader/img/20210131154946.png)

也就是Grade表的每一行对应Class表的多行，在关系数据库中，这种==基于表（Table）的一对多的关系==就是关系数据库的基础。







## SQL语句

根据某个年级的ID就可以查找所有班级的行，这种查询语句在关系数据库中称为SQL语句，可以写成：

```sql
SELECT * FROM classes WHERE grade_id = '1';
```

结果也是一个表：

```
---------+----------+----------
grade_id | class_id | name
---------+----------+----------
1        | 11       | 一年级一班
---------+----------+----------
1        | 12       | 一年级二班
---------+----------+----------
1        | 13       | 一年级三班
---------+----------+----------
```





# 数据库类别

## 关系型数据库

| 付费/商用  |                                                |
| ---------- | ---------------------------------------------- |
| Oracle     | 典型的高富帅                                   |
| SQL Server | 微软自家产品，Windows定制专款                  |
| DB2        | IBM的产品，听起来挺高端                        |
| Sybase     | 曾经跟微软是好基友，后来关系破裂，现在家境惨淡 |

这些数据库都是不开源而且付费的，最大的好处是花了钱出了问题可以找厂家解决，不过在Web的世界里，常常需要部署成千上万的数据库服务器，当然不能把大把大把的银子扔给厂家



所以，无论是Google、Facebook，还是国内的BAT，无一例外都选择了免费的开源数据库：

| 免费/开源  |                                                 |
| ---------- | ----------------------------------------------- |
| ==MySQL==  | 大家都在用，一般错不了                          |
| PostgreSQL | 学术气息有点重，其实挺不错，但知名度没有MySQL高 |
| sqlite     | 嵌入式数据库，适合==桌面和移动应用==            |



作为Python开发工程师，选择哪个免费数据库呢？当然是MySQL。因为MySQL普及率最高，出了错，可以很容易找到解决方法。

而且，围绕MySQL有一大堆监控和运维的工具，安装和使用很方便。



@MySQL版本

从MySQL官方网站下载并安装[MySQL Community Server 5.6](http://dev.mysql.com/downloads/mysql/)，这个版本是免费的，其他高级版本是要收钱的（请放心，收钱的功能我们用不上）



## NoSQL

很多NoSQL宣传其速度和规模远远超过关系数据库，所以很多同学觉得有了NoSQL是否就不需要SQL了呢？千万不要被他们忽悠了，连SQL都不明白怎么可能搞明白NoSQL呢？



# 概念

## 表

数据库中存放关系数据的集合，一个数据库里面通常都包含多个表，比如学生的表，班级的表，学校的表，等等。表和表之间通过==外键关联==。





# 补充|《浪潮之巅》

关系型数据库最早提出是IBM一位科学家，但是==IBM当年没有重视起来==，导致这个机会被埃里森发现，并把关系型数据库发扬光大了 

关系型数据库之前处于统治地位的是层次模型和网络模型，这两种早期模型强调数据库实现的效率（访问时间），但缺点是逻辑实现和物理实现混淆，因此不方便直接访问数据库中的内容，也不方便实现复杂的查询逻辑，这样的数据库也不可能做的很大

早期数据库还有一个致命弱点，开发十分复杂，开发和维护人员需要经过长时间的专业训练 

与层次模型和网络模型相比，关系型数据库将物理层和逻辑层完全分离，这样的好处是首先能实现非常复杂的查询逻辑，能够实现很大、很复杂的数据库

其次关系型数据库的==逻辑层和物理层无关==，很容易理解，因此开发难度相对较低，可以在短期内培养大量的开发人员，而较为复杂的物理层，则可以由少数专业人员来实现，这样很容易培养一个产业





# #参考文献

[Link: 教程|廖雪峰](https://www.liaoxuefeng.com/wiki/1016959663602400/1017801397501728)

[SQL教程](https://www.liaoxuefeng.com/wiki/1177760294764384)











