# 算术运算符

| 运算符 | 描述                                   | 实例                                                         |
| :----- | :------------------------------------- | :----------------------------------------------------------- |
| +      | 两个对象相加                           | 5 + 4 结果为9                                                |
|        | 字符串，列表也可以用这个运算符进行运算 | "py" + 'thon' == 'python'<br>[12, 1, 2] + [32, 22] == [12, 1, 2, 32, 22] |
| -      | 两个对象相减                           | 5 - 4 结果为1                                                |
| *      | 两个对象相乘                           | 5 * 4 结果为20                                               |
|        | 作用于字符串，列表，元组               | 表示重复多少次                                               |
| /      | 两个数做除法                           | 5 / 4 结果为1.25                                             |
|        |                                        | 注意：不管能否整除，该运算符的计算结果都是float类型          |
| %      | 取模,返回除法的余数                    | 5 % 4 结果为1                                                |
|        |                                        | 用来判断一个数是否为另一个数的整数倍，判断奇偶就要依靠它     |
| **     | 幂，返回x的y次幂                       | 5**4, 5的4次方，结果为625                                    |
| //     | ==向下取整==的除法                     | 5//4 结果是1， -5//4结果是-2                                 |



常见套路：逐位取值

```python
a = 432
a = a//10   # 得到43
print(a%10)
```





# 比较（关系）运算符

比较数据之间的关系，由比较运算符构成的表达式，其结果为bool类型

| 运算符 | 描述                   | 示例              |
| :----- | :--------------------- | :---------------- |
| ==     | 比较对象是否相等       | 5 == 5 结果为True |
| !=     | 比较两个对象是否不相等 | 5 != 4 结果为True |
| >      | 大于                   | 5 > 4 结果为True  |
| <      | 小于                   | 4 < 5 结果为True  |
| >=     | 大于等于               | 5 >= 5 结果为True |
| <=     | 小于等于               | 4 <=5 结果为True  |

```python
>>> 1 == 1
True
>>> 1.0 == 1.0
True
>>> True == True
True
>>> '123' == '123'
True
>>> [1, 2, 3] == [1, 2, 3]
True
>>> (1, 2, 3) == (1, 2, 3)
True
>>> {1, 2, 3} == {1, 2, 3}
True
>>> {'a': 1} == {'a': 1}
True
```





# 赋值运算符

```python
+=
-=   #减法赋值运算符
*=   #乘法赋值运算符
/=   #除法赋值运算符
%=   #取模赋值运算符
**=  #幂赋值运算符
//=  #取整除赋值运算符
```



- 元组赋值：同时对两个或多个变量进行赋值

```python
a , b = 1, 2
a, b, c = 3, 4, 5
```



- 多目标赋值：对两个或多个变量进行赋值时，他们的初始值都相同

```python
a=b=c=1
```

注意|坑：3个变量的内存地址是相同的

- 因此在使用多目标赋值语法时，==不要将可变对象==赋值给多个变量，以免他们之间互相影响@浅拷贝





# 逻辑运算符

在逻辑表达式中，0，None, 空字符串，空列表，空字典，空集合等价于False， 其余的数据等价于True

| 运算符 | 逻辑表达式 | 描述                                                  | 实例                                                         |
| :----- | :--------- | :---------------------------------------------------- | :----------------------------------------------------------- |
| and    | x and y    | x和y都为True时，结果为True,否则为False                | True and True 结果为True, 有一个为False，表达式结果即为False |
| or     | x or y     | x和y只要有一个为True，则表达式结果为True              | True or False 结果为True                                     |
| not    | not x      | x 为Ture, not x 则为False, x为False, not x 结果为True | not (3 > 4 and 5 > 3) 结果为True                             |





# 位运算符

位运算是在==二进制的层面==上对数据进行计算

- 在32位机器上，c语言中的int类型数据占4个字节，也就是32个比特位

| 运算符 | 描述                                                         | 实例       |
| :----- | :----------------------------------------------------------- | :--------- |
| &      | 按位与运算符：参与运算的两个值，对应为都为1，则结果位为1，否则为0 | 1 & 2 = 0  |
| \|     | 按位或运算符：参与运算的两个值，对应位只要有一个为1，结果位则为1 | 1 \| 2 = 3 |
| ^      | 按位异或运算符：参与计算的连个值，对应位不同，则结果位为1，对应位相同，则结果位为0 | 1 ^ 2 = 3  |
| ~      | 按位取反运算符：对数据的==每个二进制位==取反,即把1变为0,把0变为1 | ~5 = 2     |
| <<     | 左移动运算符：==运算数的各二进位==全部左移若干位，高位丢弃，低位补0。 | 2 << 2= 8  |
| >>     | 右移动运算符：参与运算的值的各二进位全部右移若干位           | 8 >> 1 = 4 |

```python
### &
(1 & 3) == 1

00000001    1的二进制
00000011    3的二进制

00000001    1的二进制


### |
4  |  8 = 12

00000100   4的二进制
00001000   8的二进制

00001100   12的二进制


### ^
4 ^ 5 = 1

00000100   4的二进制
00000101   5的二进制

00000001   1的二进制
```



## ~ 按位取反运算符

理解按位取反运算，先要理解几个基本概念：

- 原码：一个整数，==按照绝对值大小==转换成的二进制数，称为原码，2 的原码是10， -3的原码是11
- 反码：将二进制数按位取反，所得的新二进制数称为原二进制数的反码
- 补码：反码加1称为补码



示例|计算~5：

- 5 的2进制表示是 0000 0000 0000 0000 0000 0000 0000 0101
- 按位取反后是1111 1111 1111 1111 1111 1111 1111 1010，结果是-6，==最高位是1表明它是一个负数==
- 负数在计算机中使用补码来存储，负数的补码是其反码加1并在前面加一个负号，-6的补码是0000 0000 0000 0000 0000 0000 0000 0101，加1后并在前面加一个负号的结果是-0000 0000 0000 0000 0000 0000 0000 0110



按位取反计算逻辑可以总结为： ~n = -(n+1)

```python
print(bin(~5))	#-0b110
```



## << 左移动运算符

2 << 2
2 的二进制表示形式 00000010
向左移动2位后变成 00001000

==左移动，相当于乘2==，左移动多少，就乘多少次2

3 << 4 等价于 3 * (2**4) = 3*16 = 48





## >> 右移动运算符

8 >> 1

8的二进制表示形式 00001000
向右移动1， 00000100 ,转成10进制是4

==右移动，相当于除2==，右移动多少，就除多少次2

17 >> 2 等价于17除 2**2 ,等价于17/4 = 4

```python
00010001   #17的二进制

向右移动两位
00000100   #转成10进制是4
```



# 成员运算符 in, not in

in可以作用于字符串，列表，元组，字典，集合

| 运算符 | 描述                                                    | 实例                                 |
| :----- | :------------------------------------------------------ | :----------------------------------- |
| in     | 如果在指定的序列中找到值返回 True，否则返回 False。     | 3 in [1, 2, 3] 表达式结果为True      |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | 3 not in [1, 2, 3] 表达式结果为False |

```python
>>> 'a' in 'abc'
True
>>> 1 in [1, 2, 3]
True
>>> 2 in (1, 2, 3)
True
>>> 3 in {1, 2, 3}
True
>>> 'key' in {'key': 'value'}
True
```



# 身份运算符 is, is not

| 运算符 | 描述                                        | 实例                                                         |
| :----- | :------------------------------------------ | :----------------------------------------------------------- |
| is     | is 是判断两个标识符是不是引用自一个对象     | 本质上是判断两个对象的内存地址是否相同                       |
| is not | is not 是判断两个标识符是不是引用自不同对象 | 与is功能相反，本质上仍然是对两个对象的内存地址是否相等进行判断 |

```python
a = 1
b = 1
print(a is b)	#True
```



## is 与 == 的区别

```python
a = [1, 2, 3]  # 创建一个新的列表
b = [1, 2, 3]  # 创建一个新的列表

print(a == b)	#True
print(a is b)	#False
print(id(a), id(b))	#4367682696 4367682952
```

== 比较运算符，比较的是两个对象的值是否相等，从字面上看，这两个列表的值是完全相等的

is 是身份运算符，它比较的是两个对象的内存地址是否相同，如果内存地址相同，那么他们就是同一个对象



### 补充|同时对两个变量赋值1，为什么这两个1的内存地址相同

```python
a = 1
b = 1
print(a is b)	#True
```

这里和python的内存管理有关，python设计者认为在[-5, 257)这个范围内的整数，是经常被使用的对象，因此，没有必要经常性的创建和释放他们，于是python建立了一个内存池，存储了这个范围内的整数，当你使用这个范围内的整数时，其实都是从这个内存池中取数，并没有重新创建

```python
>>> a = 256
>>> b = 256
>>> a is b
True

>>> a = 257
>>> b = 257
>>> a is b
False
```





# 小结|运算符优先级

| 运算符                                       | 描述                                                   |
| :------------------------------------------- | :----------------------------------------------------- |
| **                                           | 指数 (最高优先级)                                      |
| ~ + -                                        | 按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@) |
| * / % //                                     | 乘，除，取模和取整除                                   |
| + -                                          | 加法减法                                               |
| ==>> <<==                                    | 右移，左移运算符                                       |
| &                                            | 位 'AND'                                               |
| ^ \|                                         | 位运算符                                               |
| <=,   <,   >,   >=                           | 比较运算符                                             |
| <,   >,   ==,    !=                          | 等于运算符                                             |
| =,  %=,   /=,   //=,   -=,   +=,   *=,   **= | 赋值运算符                                             |
| is, is not                                   | 身份运算符                                             |
| in, not in                                   | 成员运算符                                             |
| not or and                                   | 逻辑运算符                                             |

```python
print(5 + 5 >> 2)       # 先计算5 + 5=10 ,然后计算10 >> 2, 结果是2
print(1 + 4 & 1)        # 先计算1 + 4=5, 然后计算5 & 1, 结果是1
print(3**2*4)           # 先计算3**2 = 9,然后计算9*4, 结果是36

a = 3
a**= 2*2
print(a)                # 先计算2*2 = 4,然后计算3**4, 结果是
```