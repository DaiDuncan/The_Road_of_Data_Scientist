

# 性能分析

**关于回溯算法的复杂度分析在网上的资料鱼龙混杂，一些所谓的经典面试书籍不讲回溯算法，算法书籍对这块也避而不谈，感觉就像是算法里模糊的边界**。

**所以这块就说一说我个人理解，对内容持开放态度，集思广益，欢迎大家来讨论！**



以下在计算空间复杂度的时候我都把系统栈（不是数据结构里的栈）所占空间算进去。

子集问题分析：

* 时间复杂度：$O(n * 2^n)$，因为每一个元素的状态无外乎取与不取，所以时间复杂度为$O(2^n)$，构造每一组子集都需要填进数组，又有需要O(n)，最终时间复杂度：$O(n * 2^n)$
* 空间复杂度：O(n)，递归深度为n，所以系统栈所用空间为O(n)，每一层递归所用的空间都是常数级别，注意代码里的result和path==都是全局变量==，就算是放在参数里，传的也是引用，并不会新申请内存空间，最终空间复杂度为O(n)



排列问题分析：

* 时间复杂度：O(n!)，这个可以从排列的树形图中很明显发现，每一层节点为n，第二层每一个分支都延伸了n-1个分支，再往下又是n-2个分支，所以一直到叶子节点一共就是 n * n-1 * n-2 * ..... 1 = n!。
* 空间复杂度：O(n)，和子集问题同理。



组合问题分析：

* 时间复杂度：$O(n * 2^n)$，组合问题其实就是一种子集的问题，所以组合问题最坏的情况，也不会超过子集问题的时间复杂度。
* 空间复杂度：O(n)，和子集问题同理。



N皇后问题分析： 

* 时间复杂度：O(n!) ，其实如果看树形图的话，直觉上是$O(n^n)$，但皇后之间不能见面所以在搜索的过程中是有剪枝的，最差也就是O（n!），n!表示n * (n-1) * .... * 1。
* 空间复杂度：O(n)，和子集问题同理。



解数独问题分析：

* 时间复杂度：$O(9^m) $, m是'.'的数目。
* 空间复杂度：$O(n^2)$，递归的深度是$n^2$



**一般说到回溯算法的复杂度，都说是指数级别的时间复杂度，这也算是一个概括吧！**




# 总结 

**[「代码随想录」](https://img-blog.csdnimg.cn/20200815195519696.png)历时21天，14道经典题目分析，20张树形图，21篇回溯法精讲文章，从组合到切割，从子集到排列，从棋盘问题到最后的复杂度分析**，至此收尾了。

这里的每一种问题，讲解的时候我都会和其他问题作对比，做分析，确保每一个问题都讲的通透。

可以说方方面面都详细介绍到了。



例如：

* 如何理解回溯法的搜索过程？
* 什么时候用startIndex，什么时候不用？ 
* 如何去重？如何理解“树枝去重”与“树层去重”？ 
* 去重的几种方法？
* 如何理解二维递归？ 



**这里的每一个问题，网上几乎找不到能讲清楚的文章，这也是直击回溯算法本质的问题**。

相信一路坚持下来的录友们，对回溯算法已经都深刻的认识。

此时回溯算法系列就要正式告一段落了。

**录友们可以回顾一下这21天，每天的打卡，每天在交流群里和大家探讨代码，最终换来的都是不知不觉的成长**。 



同样也感谢录友们的坚持，这也是我持续写作的动力，**==正是因为大家的积极参与，我才知道这件事件是非常有意义的==**。

最后希望大家可以转发这篇文章给身边的朋友们，因为还有很多学习算法的小伙伴依然在浩如烟海的信息中迷茫，而我相信「代码随想录」会让大家少走弯路！

**回溯算法系列正式结束，新的系列终将开始，录友们准备开启新的征程！**

